(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/answer/reply/reply"],{422:function(e,t,n){"use strict";(function(e,t){var s=n(4);n(26),n(27);s(n(25));var o=s(n(423));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},423:function(e,t,n){"use strict";n.r(t);var s=n(424),o=n(426);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n(428);var c,r=n(46),u=Object(r["default"])(o["default"],s["render"],s["staticRenderFns"],!1,null,"0c6010ed",null,!1,s["components"],c);u.options.__file="pages/answer/reply/reply.vue",t["default"]=u.exports},424:function(e,t,n){"use strict";n.r(t);var s=n(425);n.d(t,"render",(function(){return s["render"]})),n.d(t,"staticRenderFns",(function(){return s["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return s["recyclableRender"]})),n.d(t,"components",(function(){return s["components"]}))},425:function(e,t,n){"use strict";var s;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return c})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return s}));try{s={uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,770))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.lists.length);e.$mp.data=Object.assign({},{$root:{g0:n}})},i=!1,c=[];o._withStripped=!0},426:function(e,t,n){"use strict";n.r(t);var s=n(427),o=n.n(s);for(var i in s)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(i);t["default"]=o.a},427:function(e,t,n){"use strict";(function(e,s){var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(28)),c=o(n(31)),r=(n(25),o(n(129)),e.database()),u={data:function(){return{swiperIndex:1,show_hide:!1,istest:1,choice:[2,2,5],subject_type_one:"",subject_type_two:"",schema:"",a:0,lists:[]}},onLoad:function(e){console.log(e),this.subject_type_one=e.subject_type_one,this.subject_type_two=e.subject_type_two,console.log(this.subject_type_one,this.subject_type_two),this.schema=e.schema,"question_bank"==e.schema?(console.log("1"),this.getAnswer()):this.getErrorAnswer(),console.log(this.swiperIndex)},methods:{getErrorAnswer:function(){var e=this;return(0,c.default)(i.default.mark((function t(){var n,o,c;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.collection("record_questions").where("estimate == 0 && user_id==$cloudEnv_uid").getTemp(),console.log(e.subject_type_one,e.subject_type_two),o=r.collection("question_bank").where('"'.concat(e.subject_type_one,'" == subject_type_one && "').concat(e.subject_type_two,'" == subject_type_two')).getTemp(),t.next=5,r.collection(o,n).get();case 5:c=t.sent,console.log(c),c.result.data.forEach((function(t,n){console.log(t),t._id.record_questions[0]&&e.lists.push(t)})),e.lists.length||(s.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){s.navigateBack()}),1e3));case 9:case"end":return t.stop()}}),t)})))()},getAnswer:function(){var e=this;return(0,c.default)(i.default.mark((function t(){var n,o,c;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.collection("record_questions").where("estimate == 1  && user_id==$cloudEnv_uid").getTemp(),console.log(e.subject_type_one,e.subject_type_two),o=r.collection("question_bank").where('"'.concat(e.subject_type_one,'" == subject_type_one && "').concat(e.subject_type_two,'" == subject_type_two')).getTemp(),t.next=5,r.collection(o,n).get();case 5:c=t.sent,console.log(c),c.result.data.forEach((function(t,n){t._id.record_questions[0]||e.lists.push(t)})),e.lists.length||(s.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){s.navigateBack()}),1e3));case 9:case"end":return t.stop()}}),t)})))()},changeSwiperIndex:function(e){if(e){if(this.swiperIndex>=this.lists.length)return void s.showModal({content:"没有更多了哦...",showCancel:!1});this.swiperIndex+=1}else{if(this.swiperIndex<=1)return;this.swiperIndex-=1}},swiperChange:function(e){console.log(e),this.swiperIndex=e.detail.current+1},recordError:function(e){var t=this;return(0,c.default)(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t.swiperIndex),console.log(t.lists[t.swiperIndex-1]._id._value),n.next=4,r.collection("record_questions").where('"'.concat(t.lists[t.swiperIndex-1]._id._value,'" == question_id')).get();case 4:if(o=n.sent,console.log(o.result.affectedDocs),!o.result.affectedDocs){n.next=11;break}return n.next=9,r.collection("record_questions").where('"'.concat(t.lists[t.swiperIndex-1]._id._value,'" == question_id')).update({estimate:e});case 9:n.next=12;break;case 11:r.collection("record_questions").add({question_id:t.lists[t.swiperIndex-1]._id._value,estimate:e});case 12:if(!(t.swiperIndex>=t.lists.length)){n.next=15;break}return s.showModal({content:"没有更多了哦...",showCancel:!1}),n.abrupt("return");case 15:1==e&&(t.swiperIndex+=1);case 16:case"end":return n.stop()}}),n)})))()},testItem:function(e,t,n){var s=this;s.lists[e].code2&&(s.lists[e].testList[t].click_index=!s.lists[e].testList[t].click_index,1==n&&(s.lists[e].code2=!1,s.lists[e].current=[t],s.lists[e].testList[t].code?(s.lists[e].topic=!0,s.choice[0]++,s.choice[2]--,this.recordError(1),console.log("111")):(s.lists[e].topic=!1,s.choice[1]++,s.choice[2]--,this.recordError(0),console.log("000"))))},btnNext:function(e){var t=this,n=[];t.lists[e].testList.forEach((function(s,o){1==s.click_index&&(t.lists[e].current.push(o),1==s.code&&n.push(o))})),console.log(t.lists[e].current.length>0),t.lists[e].current.length>0?(t.lists[e].code2=!1,console.log(n.length,t.lists[e].true_option.length,t.lists[e].current.length),n.length==t.lists[e].true_option.length&&n.length==t.lists[e].current.length?(t.lists[e].topic=!0,this.swiperIndex++,t.choice[0]++,t.choice[2]--,this.recordError(1)):(t.lists[e].topic=!1,t.choice[1]++,t.choice[2]--,this.recordError(0))):s.showToast({title:"请选择选项",icon:"none",duration:1500})},topic:function(e){console.log(this.lists[e].true_option,this.lists[e].current,!this.lists[e].code2),this.swiperIndex=e+1,this.show_hide=!this.show_hide},showFixed:function(){this.show_hide=!this.show_hide},hideFixed:function(){this.show_hide=!this.show_hide},nullFixed:function(){}}};t.default=u}).call(this,n(27)["default"],n(2)["default"])},428:function(e,t,n){"use strict";n.r(t);var s=n(429),o=n.n(s);for(var i in s)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(i);t["default"]=o.a},429:function(e,t,n){}},[[422,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/answer/reply/reply.js.map