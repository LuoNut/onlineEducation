(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/answer/reply/reply"],{"3fa4":function(e,t,i){},"4bba":function(e,t,i){"use strict";var c=i("3fa4"),n=i.n(c);n.a},"505d":function(e,t,i){"use strict";i.r(t);var c=i("b70d"),n=i.n(c);for(var o in c)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return c[e]}))}(o);t["default"]=n.a},b70d:function(e,t,i){"use strict";(function(e,c){var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("2eee")),s=n(i("c973")),r=(i("66fd"),n(i("b0d6")),e.database()),d={data:function(){return{swiperIndex:1,show_hide:!1,istest:1,choice:[2,2,5],subject_type_one:"",subject_type_two:"",schema:"",a:0,lists:[],lists1:[{title:"请选择下列正确选项1",src_title:"",isimg:1,code:1,subject_type_one:"",subject_type_two:"",option:["A","B","C","D"],true_option:[0],current:[0],topic:!0,code2:!1,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"正确答案",code:!0,click_index:!0},{name:"错误答案",code:!1,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"错误答案",code:!1,click_index:!1}]},{title:"请选择下列正确选项2",src_title:"",isimg:1,code:1,option:["A","B","C","D","E"],true_option:[1],current:[3],topic:!1,code2:!1,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"错误答案",code:!1,click_index:!0},{name:"错误答案",code:!1,click_index:!1}]},{title:"请选择下列正确选项3",src_title:"",isimg:1,code:2,option:["A","B","C","D"],true_option:[0,2],current:[1,2],topic:!1,code2:!1,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!0},{name:"正确答案",code:!0,click_index:!0},{name:"错误答案",code:!1,click_index:!1}]},{title:"请选择下列正确选项4",src_title:"../../static/banner02.jpg",code:2,option:["A","B","C","D"],true_option:[1,2,3],current:[1,2,3],topic:!0,code2:!1,isimg:1,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!0},{name:"正确答案",code:!0,click_index:!0},{name:"正确答案",code:!0,click_index:!0}]},{title:"请选择下列正确选项5",src_title:"",isimg:1,code:1,option:["A","B","C","D"],true_option:[0],current:[],topic:"",code2:!0,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"错误答案",code:!1,click_index:!1}]},{title:"请选择下列正确选项6",src_title:"",isimg:1,code:2,option:["A","B","C","D","E"],true_option:[0,2,4],current:[],topic:"",code2:!0,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1}]},{title:"请选择下列正确选项7",src_title:"",isimg:1,code:2,option:["A","B","C","D"],true_option:[1,3],current:[],topic:"",code2:!0,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1}]},{title:"请选择下列正确选项8",src_title:"",code:2,option:["A","B","C","D"],true_option:[1,2,3],current:[],topic:"",code2:!0,isimg:2,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"../../static/banner01.jpg",code:!1,click_index:!1},{name:"../../static/banner02.jpg",code:!0,click_index:!1},{name:"../../static/banner03.jpg",code:!0,click_index:!1},{name:"../../static/banner04.jpg",code:!0,click_index:!1}]},{title:"请选择下列正确选项9",src_title:"../../static/banner02.jpg",code:2,option:["A","B","C","D"],true_option:[1,3],current:[],topic:"",code2:!0,isimg:1,alt:"正确答案正确答案正确答案正确答案正确答案正确答案正确答案正确答案",testList:[{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1},{name:"错误答案",code:!1,click_index:!1},{name:"正确答案",code:!0,click_index:!1}]}]}},onLoad:function(e){console.log(e),this.subject_type_one=e.subject_type_one,this.subject_type_two=e.subject_type_two,console.log(this.subject_type_one,this.subject_type_two),this.schema=e.schema,"question_bank"==e.schema?(console.log("1"),this.getAnswer()):this.getErrorAnswer()},methods:{getErrorAnswer:function(){var e=this;return(0,s.default)(o.default.mark((function t(){var i,n,s;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=r.collection("record_questions").getTemp(),console.log(e.subject_type_one,e.subject_type_two),n=r.collection("question_bank").where('"'.concat(e.subject_type_one,'" == subject_type_one && "').concat(e.subject_type_two,'" == subject_type_two')).getTemp(),t.next=5,r.collection(n,i).get();case 5:s=t.sent,console.log(s),s.result.data.length||(c.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){c.navigateBack()}),1e3)),e.lists=s.result.data;case 9:case"end":return t.stop()}}),t)})))()},getAnswer:function(){var e=this;return(0,s.default)(o.default.mark((function t(){var i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.collection("question_bank").where('"'.concat(e.subject_type_one,'" == subject_type_one && "').concat(e.subject_type_two,'" == subject_type_two && estimate == 3')).get();case 2:i=t.sent,console.log(i),i.result.data.length||(c.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){c.navigateBack()}),1e3)),e.lists=i.result.data;case 6:case"end":return t.stop()}}),t)})))()},changeSwiperIndex:function(e){if(e){if(this.swiperIndex>=this.lists.length)return void c.showModal({content:"没有更多了哦...",showCancel:!1});this.swiperIndex+=1}else{if(this.swiperIndex<=1)return;this.swiperIndex-=1}},swiperChange:function(e){console.log(e),this.swiperIndex=e.detail.current+1},recordError:function(e){var t=this;return(0,s.default)(o.default.mark((function i(){var c;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,r.collection("record_questions").where('"'.concat(t.lists[t.swiperIndex-1]._id,'" == question_id')).get();case 2:if(c=i.sent,!c.result.affectedDocs){i.next=8;break}return i.next=6,r.collection("record_questions").where('"'.concat(t.lists[t.swiperIndex-1]._id,'" == question_id')).update({estimate:e});case 6:i.next=9;break;case 8:r.collection("record_questions").add({question_id:t.lists[t.swiperIndex-1]._id,estimate:e});case 9:case"end":return i.stop()}}),i)})))()},testItem:function(e,t,i){this.lists[e].code2&&(this.lists[e].testList[t].click_index=!this.lists[e].testList[t].click_index,1==i&&(this.lists[e].code2=!1,this.lists[e].current=[t],this.lists[e].testList[t].code?(this.lists[e].topic=!0,this.swiperIndex++,this.choice[0]++,this.choice[2]--,this.recordError(1)):(this.lists[e].topic=!1,this.choice[1]++,this.choice[2]--,this.recordError(0))))},btnNext:function(e){var t=this,i=[];t.lists[e].testList.forEach((function(c,n){1==c.click_index&&(t.lists[e].current.push(n),1==c.code&&i.push(n))})),console.log(t.lists[e].current.length>0),t.lists[e].current.length>0?(t.lists[e].code2=!1,console.log(i.length,t.lists[e].true_option.length,t.lists[e].current.length),i.length==t.lists[e].true_option.length&&i.length==t.lists[e].current.length?(t.lists[e].topic=!0,this.swiperIndex++,t.choice[0]++,t.choice[2]--,this.recordError(1)):(t.lists[e].topic=!1,t.choice[1]++,t.choice[2]--,this.recordError(0))):c.showToast({title:"请选择选项",icon:"none",duration:1500})},topic:function(e){console.log(this.lists[e].true_option,this.lists[e].current,!this.lists[e].code2),this.swiperIndex=e+1,this.show_hide=!this.show_hide},showFixed:function(){this.show_hide=!this.show_hide},hideFixed:function(){this.show_hide=!this.show_hide},nullFixed:function(){}}};t.default=d}).call(this,i("a9ff")["default"],i("543d")["default"])},be99:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return c}));var c={uButton:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-button/u-button")]).then(i.bind(null,"78d4"))}},n=function(){var e=this.$createElement,t=(this._self._c,this.lists.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},o=[]},e0c5:function(e,t,i){"use strict";(function(e,t){var c=i("4ea4");i("dac0"),i("a9ff");c(i("66fd"));var n=c(i("e672"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},e672:function(e,t,i){"use strict";i.r(t);var c=i("be99"),n=i("505d");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("4bba");var s=i("f0c5"),r=Object(s["a"])(n["default"],c["b"],c["c"],!1,null,"599be77b",null,!1,c["a"],void 0);t["default"]=r.exports}},[["e0c5","common/runtime","common/vendor"]]]);