(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/answer/reply/reply"],{"1ee1":function(e,t,s){"use strict";var n=s("71c0"),o=s.n(n);o.a},"505d":function(e,t,s){"use strict";s.r(t);var n=s("b70d"),o=s.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"598a":function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return n}));var n={uButton:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uview-ui/components/u-button/u-button")]).then(s.bind(null,"78d4"))}},o=function(){var e=this.$createElement,t=(this._self._c,this.lists.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},i=[]},"71c0":function(e,t,s){},b70d:function(e,t,s){"use strict";(function(e,n){var o=s("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(s("2eee")),c=o(s("c973")),r=(s("66fd"),o(s("b0d6")),e.database()),u={data:function(){return{swiperIndex:1,show_hide:!1,istest:1,choice:[2,2,5],subject_type_one:"",subject_type_two:"",schema:"",a:0,lists:[]}},onLoad:function(e){console.log(e),this.subject_type_one=e.subject_type_one,this.subject_type_two=e.subject_type_two,console.log(this.subject_type_one,this.subject_type_two),this.schema=e.schema,"question_bank"==e.schema?(console.log("1"),this.getAnswer()):this.getErrorAnswer(),console.log(this.swiperIndex)},methods:{getErrorAnswer:function(){var e=this;return(0,c.default)(i.default.mark((function t(){var s,o,c;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.collection("record_questions").where("estimate == 0 && user_id==$cloudEnv_uid").getTemp(),console.log(e.subject_type_one,e.subject_type_two),o=r.collection("question_bank").where('"'.concat(e.subject_type_one,'" == subject_type_one && "').concat(e.subject_type_two,'" == subject_type_two')).getTemp(),t.next=5,r.collection(o,s).get();case 5:c=t.sent,console.log(c),c.result.data.forEach((function(t,s){console.log(t),t._id.record_questions[0]&&e.lists.push(t)})),e.lists.length||(n.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){n.navigateBack()}),1e3));case 9:case"end":return t.stop()}}),t)})))()},getAnswer:function(){var e=this;return(0,c.default)(i.default.mark((function t(){var s,o,c;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.collection("record_questions").where("estimate == 1  && user_id==$cloudEnv_uid").getTemp(),console.log(e.subject_type_one,e.subject_type_two),o=r.collection("question_bank").where('"'.concat(e.subject_type_one,'" == subject_type_one && "').concat(e.subject_type_two,'" == subject_type_two')).getTemp(),t.next=5,r.collection(o,s).get();case 5:c=t.sent,console.log(c),c.result.data.forEach((function(t,s){t._id.record_questions[0]||e.lists.push(t)})),e.lists.length||(n.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){n.navigateBack()}),1e3));case 9:case"end":return t.stop()}}),t)})))()},changeSwiperIndex:function(e){if(e){if(this.swiperIndex>=this.lists.length)return void n.showModal({content:"没有更多了哦...",showCancel:!1});this.swiperIndex+=1}else{if(this.swiperIndex<=1)return;this.swiperIndex-=1}},swiperChange:function(e){console.log(e),this.swiperIndex=e.detail.current+1},recordError:function(e){var t=this;return(0,c.default)(i.default.mark((function s(){var o;return i.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log(t.swiperIndex),console.log(t.lists[t.swiperIndex-1]._id._value),s.next=4,r.collection("record_questions").where('"'.concat(t.lists[t.swiperIndex-1]._id._value,'" == question_id')).get();case 4:if(o=s.sent,console.log(o.result.affectedDocs),!o.result.affectedDocs){s.next=11;break}return s.next=9,r.collection("record_questions").where('"'.concat(t.lists[t.swiperIndex-1]._id._value,'" == question_id')).update({estimate:e});case 9:s.next=12;break;case 11:r.collection("record_questions").add({question_id:t.lists[t.swiperIndex-1]._id._value,estimate:e});case 12:if(!(t.swiperIndex>=t.lists.length)){s.next=15;break}return n.showModal({content:"没有更多了哦...",showCancel:!1}),s.abrupt("return");case 15:1==e&&(t.swiperIndex+=1);case 16:case"end":return s.stop()}}),s)})))()},testItem:function(e,t,s){this.lists[e].code2&&(this.lists[e].testList[t].click_index=!this.lists[e].testList[t].click_index,1==s&&(this.lists[e].code2=!1,this.lists[e].current=[t],this.lists[e].testList[t].code?(this.lists[e].topic=!0,this.choice[0]++,this.choice[2]--,this.recordError(1),console.log("111")):(this.lists[e].topic=!1,this.choice[1]++,this.choice[2]--,this.recordError(0),console.log("000"))))},btnNext:function(e){var t=this,s=[];t.lists[e].testList.forEach((function(n,o){1==n.click_index&&(t.lists[e].current.push(o),1==n.code&&s.push(o))})),console.log(t.lists[e].current.length>0),t.lists[e].current.length>0?(t.lists[e].code2=!1,console.log(s.length,t.lists[e].true_option.length,t.lists[e].current.length),s.length==t.lists[e].true_option.length&&s.length==t.lists[e].current.length?(t.lists[e].topic=!0,this.swiperIndex++,t.choice[0]++,t.choice[2]--,this.recordError(1)):(t.lists[e].topic=!1,t.choice[1]++,t.choice[2]--,this.recordError(0))):n.showToast({title:"请选择选项",icon:"none",duration:1500})},topic:function(e){console.log(this.lists[e].true_option,this.lists[e].current,!this.lists[e].code2),this.swiperIndex=e+1,this.show_hide=!this.show_hide},showFixed:function(){this.show_hide=!this.show_hide},hideFixed:function(){this.show_hide=!this.show_hide},nullFixed:function(){}}};t.default=u}).call(this,s("a9ff")["default"],s("543d")["default"])},e0c5:function(e,t,s){"use strict";(function(e,t){var n=s("4ea4");s("dac0"),s("a9ff");n(s("66fd"));var o=n(s("e672"));e.__webpack_require_UNI_MP_PLUGIN__=s,t(o.default)}).call(this,s("bc2e")["default"],s("543d")["createPage"])},e672:function(e,t,s){"use strict";s.r(t);var n=s("598a"),o=s("505d");for(var i in o)["default"].indexOf(i)<0&&function(e){s.d(t,e,(function(){return o[e]}))}(i);s("1ee1");var c=s("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"343e7f53",null,!1,n["a"],void 0);t["default"]=r.exports}},[["e0c5","common/runtime","common/vendor"]]]);