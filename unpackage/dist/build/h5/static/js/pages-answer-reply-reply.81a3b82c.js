(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-answer-reply-reply"],{"200f":function(t,e,i){var s=i("60de");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("4f06").default;n("e2d4c7b2",s,!0,{sourceMap:!1,shadowMode:!1})},"505d":function(t,e,i){"use strict";i.r(e);var s=i("9750"),n=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e["default"]=n.a},"60de":function(t,e,i){var s=i("24fb");e=s(!1),e.push([t.i,".questions[data-v-e1930fc2]{position:relative;height:100vh}.questions .test-header[data-v-e1930fc2]{display:flex;justify-content:center;align-items:center;width:100%;height:34px;line-height:34px;border-bottom:solid 1px #ddd}.questions .test-header uni-view[data-v-e1930fc2]{color:#555;font-size:14px;display:flex}.questions .questions-cont[data-v-e1930fc2]{height:calc(100% - 125px);display:flex;flex-wrap:nowrap;transition:all .5s}.questions .questions-cont .swiper-item[data-v-e1930fc2]{width:100vw;min-width:100vw;max-width:100vw;height:100%;overflow:auto}.questions .questions-cont .swiper-item .test-main[data-v-e1930fc2]{padding:0 %?20?%;margin:%?30?% %?30?% %?20?% %?30?%;background:#fff}.questions .questions-cont .swiper-item .test-main .test-title[data-v-e1930fc2]{font-size:16px;color:#333;padding:%?20?% 0}.questions .questions-cont .swiper-item .test-main .test-title uni-text[data-v-e1930fc2]{font-size:10px;color:#fff;background:#aaa;padding:2px 5px;margin-right:5px;border-radius:3px}.questions .questions-cont .swiper-item .test-main .test-title .test-title-img[data-v-e1930fc2]{margin:%?20?% auto;text-align:center}.questions .questions-cont .swiper-item .test-main .test-title .test-title-img uni-image[data-v-e1930fc2]{width:%?500?%;height:%?250?%}.questions .questions-cont .swiper-item .test-main .test-cont[data-v-e1930fc2]{display:flex;flex-direction:column;padding-bottom:%?20?%}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view[data-v-e1930fc2]{min-height:40px;line-height:40px;display:flex}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view uni-view[data-v-e1930fc2]{width:30px;height:30px;line-height:30px;margin-top:4px;margin-right:7px;font-size:14px;border:solid 1px #ddd;border-radius:50%;box-shadow:2px 2px 5px #e5e5e5;text-align:center;color:#666}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view uni-image[data-v-e1930fc2]{max-width:%?560?%;max-height:%?280?%;margin-bottom:%?20?%}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view uni-text[data-v-e1930fc2]{font-size:13px;color:#555}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view.active_true uni-view[data-v-e1930fc2]{background:#0081ff;border:solid 1px #0081ff;color:#fff;font-size:15px}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view.active_true uni-text[data-v-e1930fc2]{color:#0081ff}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view.active uni-view[data-v-e1930fc2]{background:#ff6667;border:solid 1px #ff6667;color:#fff;font-size:15px}.questions .questions-cont .swiper-item .test-main .test-cont > uni-view.active uni-text[data-v-e1930fc2]{color:#ff6667}.questions .questions-cont .swiper-item .test-btn[data-v-e1930fc2]{background:#1fb19e;font-size:14px;border-radius:6px;text-align:center;line-height:40px;color:#fff;height:40px;width:150px;margin:20px auto}.questions .questions-cont .swiper-item .test-describe[data-v-e1930fc2]{padding:0 %?20?%;margin-bottom:20px;border-top:solid 1px #ccc}.questions .questions-cont .swiper-item .test-describe .describe-title[data-v-e1930fc2]{height:48px;line-height:48px;display:flex}.questions .questions-cont .swiper-item .test-describe .describe-title uni-text[data-v-e1930fc2]{color:#666;font-size:12px}.questions .questions-cont .swiper-item .test-describe .describe-title uni-image[data-v-e1930fc2]{width:14px;height:14px;margin-top:17px;margin-left:3px}.questions .questions-cont .swiper-item .test-describe .describe-cont[data-v-e1930fc2]{padding:%?12?%;display:flex;flex-direction:column}.questions .questions-cont .swiper-item .test-describe .describe-cont > uni-text[data-v-e1930fc2]{color:#666;font-size:14px;line-height:24px}.questions .questions-cont .swiper-item .test-describe .describe-cont > uni-text[data-v-e1930fc2]:nth-child(3){font-size:12px;line-height:20px}.questions .fixed-bottom[data-v-e1930fc2]{width:100%;height:100%;position:fixed;left:0;top:0;z-index:999;background:rgba(0,0,0,.4);pointer-events:none;opacity:0;transition:all .3s}.questions .fixed-bottom .tibiao[data-v-e1930fc2]{position:absolute;bottom:0;left:0;background:#fff;width:100%;overflow:auto;height:50%;padding:%?30?% %?20?%}.questions .fixed-bottom .tibiao .tibiao-bar[data-v-e1930fc2]{display:flex;flex-direction:row-reverse;padding-bottom:%?30?%;border-bottom:solid 1px #ddd;height:16px;line-height:16px}.questions .fixed-bottom .tibiao .tibiao-bar uni-view[data-v-e1930fc2]{width:10px;height:10px;border-radius:50%;margin-left:%?30?%;margin-top:3px}.questions .fixed-bottom .tibiao .tibiao-bar uni-view.tibiao-yes[data-v-e1930fc2]{background:#1a7bb9}.questions .fixed-bottom .tibiao .tibiao-bar uni-view.tibiao-no[data-v-e1930fc2]{background:#ff6667}.questions .fixed-bottom .tibiao .tibiao-bar uni-view.tibiao-null[data-v-e1930fc2]{background:#999}.questions .fixed-bottom .tibiao .tibiao-bar uni-text[data-v-e1930fc2]{margin-left:3px;display:inline-block;font-size:13px}.questions .fixed-bottom .tibiao .tibiao-bar uni-text.tibiao-yes2[data-v-e1930fc2]{color:#1a7bb9}.questions .fixed-bottom .tibiao .tibiao-bar uni-text.tibiao-no2[data-v-e1930fc2]{color:#ff6667}.questions .fixed-bottom .tibiao .tibiao-bar uni-text.tibiao-no3[data-v-e1930fc2]{color:#666}.questions .fixed-bottom .tibiao > uni-view:nth-child(2) uni-text[data-v-e1930fc2]{margin-left:%?22?%;margin-top:%?10?%;display:inline-block;width:%?100?%;height:%?100?%;line-height:%?100?%;text-align:center;border-radius:50%;font-size:14px;color:#666;background:#e4e4e4}.questions .fixed-bottom .tibiao > uni-view:nth-child(2) uni-text[data-v-e1930fc2]:nth-child(6n+1){margin-left:0}.questions .fixed-bottom .tibiao > uni-view:nth-child(2) uni-text.active_o[data-v-e1930fc2]{background:#beddf1;color:#1a7bb9}.questions .fixed-bottom .tibiao > uni-view:nth-child(2) uni-text.active_t[data-v-e1930fc2]{background:#fecece;color:#e3494a}.questions .fixed-bottom.active[data-v-e1930fc2]{opacity:1;pointer-events:auto;transition:all .3s}.questions .bottom[data-v-e1930fc2]{position:absolute;bottom:0;width:100%;display:flex;justify-content:space-between;margin-bottom:%?20?%}.questions .bottom .btn[data-v-e1930fc2]{width:%?140?%;height:%?70?%;line-height:%?70?%;text-align:%?140?%;letter-spacing:%?4?%}",""]),t.exports=e},"62ab":function(t,e,i){"use strict";var s=i("200f"),n=i.n(s);n.a},9750:function(t,e,i){"use strict";(function(t){i("7a82");var s=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af"),i("d3b7"),i("159b"),i("14d9");var n=s(i("c7eb")),o=s(i("1da1")),c=(i("e143"),s(i("b0d6")),t.database()),a={data:function(){return{swiperIndex:1,show_hide:!1,istest:1,choice:[2,2,5],subject_type_one:"",subject_type_two:"",schema:"",a:0,lists:[]}},onLoad:function(t){console.log(t),this.subject_type_one=t.subject_type_one,this.subject_type_two=t.subject_type_two,console.log(this.subject_type_one,this.subject_type_two),this.schema=t.schema,"question_bank"==t.schema?(console.log("1"),this.getAnswer()):this.getErrorAnswer(),console.log(this.swiperIndex)},methods:{getErrorAnswer:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var i,s,o;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=c.collection("record_questions").where("estimate == 0 && user_id==$cloudEnv_uid").getTemp(),console.log(t.subject_type_one,t.subject_type_two),s=c.collection("question_bank").where('"'.concat(t.subject_type_one,'" == subject_type_one && "').concat(t.subject_type_two,'" == subject_type_two')).getTemp(),e.next=5,c.collection(s,i).get();case 5:o=e.sent,console.log(o),o.result.data.forEach((function(e,i){console.log(e),e._id.record_questions[0]&&t.lists.push(e)})),t.lists.length||(uni.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){uni.navigateBack()}),1e3));case 9:case"end":return e.stop()}}),e)})))()},getAnswer:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var i,s,o;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=c.collection("record_questions").where("estimate == 1  && user_id==$cloudEnv_uid").getTemp(),console.log(t.subject_type_one,t.subject_type_two),s=c.collection("question_bank").where('"'.concat(t.subject_type_one,'" == subject_type_one && "').concat(t.subject_type_two,'" == subject_type_two')).getTemp(),e.next=5,c.collection(s,i).get();case 5:o=e.sent,console.log(o),o.result.data.forEach((function(e,i){e._id.record_questions[0]||t.lists.push(e)})),t.lists.length||(uni.showToast({title:"暂时没有更多题目哦...",icon:"none"}),setTimeout((function(){uni.navigateBack()}),1e3));case 9:case"end":return e.stop()}}),e)})))()},changeSwiperIndex:function(t){if(t){if(this.swiperIndex>=this.lists.length)return void uni.showModal({content:"没有更多了哦...",showCancel:!1});this.swiperIndex+=1}else{if(this.swiperIndex<=1)return;this.swiperIndex-=1}},swiperChange:function(t){console.log(t),this.swiperIndex=t.detail.current+1},recordError:function(t){var e=this;return(0,o.default)((0,n.default)().mark((function i(){var s;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(e.swiperIndex),console.log(e.lists[e.swiperIndex-1]._id._value),i.next=4,c.collection("record_questions").where('"'.concat(e.lists[e.swiperIndex-1]._id._value,'" == question_id')).get();case 4:if(s=i.sent,console.log(s.result.affectedDocs),!s.result.affectedDocs){i.next=11;break}return i.next=9,c.collection("record_questions").where('"'.concat(e.lists[e.swiperIndex-1]._id._value,'" == question_id')).update({estimate:t});case 9:i.next=12;break;case 11:c.collection("record_questions").add({question_id:e.lists[e.swiperIndex-1]._id._value,estimate:t});case 12:if(!(e.swiperIndex>=e.lists.length)){i.next=15;break}return uni.showModal({content:"没有更多了哦...",showCancel:!1}),i.abrupt("return");case 15:1==t&&(e.swiperIndex+=1);case 16:case"end":return i.stop()}}),i)})))()},testItem:function(t,e,i){this.lists[t].code2&&(this.lists[t].testList[e].click_index=!this.lists[t].testList[e].click_index,1==i&&(this.lists[t].code2=!1,this.lists[t].current=[e],this.lists[t].testList[e].code?(this.lists[t].topic=!0,this.choice[0]++,this.choice[2]--,this.recordError(1),console.log("111")):(this.lists[t].topic=!1,this.choice[1]++,this.choice[2]--,this.recordError(0),console.log("000"))))},btnNext:function(t){var e=this,i=[];e.lists[t].testList.forEach((function(s,n){1==s.click_index&&(e.lists[t].current.push(n),1==s.code&&i.push(n))})),console.log(e.lists[t].current.length>0),e.lists[t].current.length>0?(e.lists[t].code2=!1,console.log(i.length,e.lists[t].true_option.length,e.lists[t].current.length),i.length==e.lists[t].true_option.length&&i.length==e.lists[t].current.length?(e.lists[t].topic=!0,this.swiperIndex++,e.choice[0]++,e.choice[2]--,this.recordError(1)):(e.lists[t].topic=!1,e.choice[1]++,e.choice[2]--,this.recordError(0))):uni.showToast({title:"请选择选项",icon:"none",duration:1500})},topic:function(t){console.log(this.lists[t].true_option,this.lists[t].current,!this.lists[t].code2),this.swiperIndex=t+1,this.show_hide=!this.show_hide},showFixed:function(){this.show_hide=!this.show_hide},hideFixed:function(){this.show_hide=!this.show_hide},nullFixed:function(){}}};e.default=a}).call(this,i("a9ff")["default"])},e2d9:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));var s={uButton:i("78d4").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"questions"},[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("答题")])],2),i("v-uni-view",{staticClass:"test-header"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showFixed.apply(void 0,arguments)}}},[t._v("题标 "+t._s(t.swiperIndex)+"/"+t._s(t.lists.length))])],1),i("v-uni-swiper",{staticClass:"questions-cont",attrs:{current:t.swiperIndex-1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},t._l(t.lists,(function(e,s){return i("v-uni-swiper-item",{key:s,staticClass:"swiper-item"},[i("v-uni-view",{staticClass:"test-main"},[i("v-uni-view",{staticClass:"test-title"},[1==e.code?i("v-uni-text",[t._v("单选")]):i("v-uni-text",[t._v("多选")]),t._v(t._s(e.title)),2==e.isimg?i("v-uni-view",{staticClass:"test-title-img"},[i("v-uni-image",{attrs:{src:e.src_title.url,mode:"aspectFit"}})],1):t._e()],1),i("v-uni-view",{staticClass:"test-cont"},t._l(e.testList,(function(n,o){return i("v-uni-view",{key:o,class:{active_true:!e.code2&&n.code||2==e.code&&n.click_index,active:1==e.code&&n.click_index&&!n.code||2==e.code&&n.click_index&&!n.code&&!e.code2},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.testItem(s,o,e.code)}}},[i("v-uni-view",[t._v(t._s(e.option[o]))]),1==e.isimg?i("v-uni-text",[t._v(t._s(n.name))]):i("v-uni-image",{attrs:{src:n.name}})],1)})),1)],1),2==e.code&&e.code2?i("v-uni-view",{staticClass:"test-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNext(s)}}},[t._v("确认选项")]):t._e(),e.code2?t._e():i("v-uni-view",{staticClass:"test-describe"},[i("v-uni-view",{staticClass:"describe-title"},[i("v-uni-text",[t._v("本题描述")])],1),i("v-uni-view",{staticClass:"describe-cont"},[i("v-uni-text",[t._v("正确答案："),t._l(e.true_option,(function(e,s){return i("v-uni-text",{key:s},[t._v(t._s(e))])}))],2),i("v-uni-text",[t._v("您选择的是："),t._l(e.current,(function(s,n){return i("v-uni-text",{key:n},[t._v(t._s(e.option[s]))])}))],2),i("v-uni-text",[t._v("原因："+t._s(e.alt))])],1)],1)],1)})),1),i("v-uni-view",{staticClass:"fixed-bottom",class:{active:t.show_hide},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hideFixed.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tibiao",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"tibiao-bar"},[i("v-uni-text",{staticClass:"tibiao-no3"},[t._v(t._s(t.choice[2]))]),i("v-uni-view",{staticClass:"tibiao-null"}),i("v-uni-text",{staticClass:"tibiao-no2"},[t._v(t._s(t.choice[1]))]),i("v-uni-view",{staticClass:"tibiao-no"}),i("v-uni-text",{staticClass:"tibiao-yes2"},[t._v(t._s(t.choice[0]))]),i("v-uni-view",{staticClass:"tibiao-yes"})],1),i("v-uni-view",t._l(t.lists.length,(function(e,s){return i("v-uni-text",{key:s,class:{active_o:t.lists[s].topic&&!t.lists[s].code2,active_t:!t.lists[s].topic&&!t.lists[s].code2},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.topic(s)}}},[t._v(t._s(e+1))])})),1)],1)],1),i("v-uni-view",{staticClass:"bottom"},[i("u-button",{staticClass:"btn",attrs:{type:"primary",text:"上一题"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwiperIndex(0)}}}),i("u-button",{staticClass:"btn",attrs:{type:"primary",text:"下一题"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwiperIndex(1)}}})],1)],1)},o=[]},e672:function(t,e,i){"use strict";i.r(e);var s=i("e2d9"),n=i("505d");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("62ab");var c=i("f0c5"),a=Object(c["a"])(n["default"],s["b"],s["c"],!1,null,"e1930fc2",null,!1,s["a"],void 0);e["default"]=a.exports}}]);